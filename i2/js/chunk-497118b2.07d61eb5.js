(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-497118b2","chunk-2d225016"],{"92f8":function(e,t,a){},a7c0:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("fly-dialog",{attrs:{width:"60%",title:"碰撞对比分析",show:e.visible},on:{"update:show":function(t){e.visible=t},beforeCloseDialog:function(t){e.visible=!1}}},[a("div",{staticClass:"mode-cachedata"},[a("el-form",{ref:"dataForm",attrs:{model:e.dataForm,rules:e.dataRule,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"姓名："}},[a("el-tag",{attrs:{type:"success",size:"mini"}},[e._v(e._s(e.dataForm.name))])],1),a("el-form-item",{attrs:{label:"碰撞源："}},[a("el-radio-group",{model:{value:e.dataForm.collisionSources,callback:function(t){e.$set(e.dataForm,"collisionSources",t)},expression:"dataForm.collisionSources"}},e._l(e.relationTypeList,(function(t,l){return a("el-radio",{key:l,attrs:{label:t.type}},[e._v(e._s(t.name))])})),1)],1),a("el-form-item",{attrs:{label:"操作："}},[a("el-radio-group",{model:{value:e.dataForm.handle,callback:function(t){e.$set(e.dataForm,"handle",t)},expression:"dataForm.handle"}},[a("el-radio",{attrs:{label:"intersection"}},[e._v("交集")]),a("el-radio",{attrs:{label:"union"}},[e._v("并集")]),a("el-radio",{attrs:{label:"differenceSet"}},[e._v("差集")])],1)],1)],1),a("el-form",{staticClass:"filter-form"},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.dataFormSubmit()}}},[e._v("碰撞")])],1)],1),e.dataList.length>0?a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.dataListLoading,expression:"dataListLoading"}],attrs:{data:e.dataList,height:"255",border:""}},[e._l(e.thList,(function(e,t){return a("el-table-column",{key:t,attrs:{prop:e.prop,"header-align":"center",align:"center",label:e.label}})})),a("el-table-column",{attrs:{fixed:"right","header-align":"center",align:"center",width:"150",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.lookInfo(t.row.id)}}},[e._v("详情")])]}}],null,!1,1682896372)})],2):e._e(),e.resultFlag?a("el-form",{ref:"dataForm",attrs:{model:e.dataForm,rules:e.dataRule,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"碰撞源："}},[a("el-radio-group",{model:{value:e.dataForm.collisionSources2,callback:function(t){e.$set(e.dataForm,"collisionSources2",t)},expression:"dataForm.collisionSources2"}},e._l(e.relationTypeList,(function(t,l){return a("el-radio",{key:l,attrs:{label:t.type}},[e._v(e._s(t.name))])})),1)],1),a("el-form-item",{attrs:{label:"操作："}},[a("el-radio-group",{model:{value:e.dataForm.handle2,callback:function(t){e.$set(e.dataForm,"handle2",t)},expression:"dataForm.handle2"}},[a("el-radio",{attrs:{label:"intersection"}},[e._v("交集")]),a("el-radio",{attrs:{label:"union"}},[e._v("并集")]),a("el-radio",{attrs:{label:"differenceSet"}},[e._v("差集")])],1)],1)],1):e._e(),e.resultFlag?a("el-form",{staticClass:"filter-form"},[a("el-form-item",[a("el-button",{attrs:{type:"primary",disabled:e.dataList.length<=0},on:{click:function(t){return e.dataFormSubmit("rFlag")}}},[e._v("结果集碰撞")])],1)],1):e._e()],1)])],1)},i=[],o=(a("7cfd"),a("e30b")),r={components:{FlyDialog:o["a"]},props:{},data:function(){return{visible:!1,dataListLoading:!1,relationTypeList:[{type:"Fugitive",name:"在逃人员"},{type:"ImportantControl",name:"重点人"},{type:"Car",name:"车"},{type:"RailwayReal",name:"铁路实名制 "},{type:"Case",name:"案件"}],fugitiveTh:[{prop:"name",label:"姓名"},{prop:"idNumber",label:"证件号"},{prop:"nativePlace",label:"籍贯"}],ImportantControlTh:[{prop:"name",label:"姓名"},{prop:"idNumber",label:"证件号"},{prop:"education",label:"学历"},{prop:"currentAddress",label:"现居地"}],CarTh:[{prop:"carNumber",label:"车牌号"},{prop:"model",label:"品牌"},{prop:"color",label:"颜色"}],RailwayRealTh:[{prop:"idNumber",label:"证件号"},{prop:"name",label:"姓名"},{prop:"seatNumber",label:"座位号"},{prop:"startStation",label:"始发站"},{prop:"destination",label:"终点站"}],CaseTh:[{prop:"caseNo",label:"案件编号"},{prop:"caseHandlingAgencies",label:"处理单位"},{prop:"detail",label:"案件描述"}],thList:[],dataList:[],resultFlag:!1,dataForm:{idNumber:[],name:"",handle:"intersection",collisionSources:"",collisionSources2:"",handle2:"intersection"},dataRule:{}}},computed:{},methods:{init:function(e){this.visible=!0,this.dataForm.name=e.label,this.dataForm.idNumber=[e.keyword]},dataFormSubmit:function(e){var t=this,a=[];e&&(a=this.dataList.map((function(e){return e.idNumber||""})));var l={idNumbersJson:this.dataForm.idNumber.concat(a),collisionSources:e?this.dataForm.collisionSources2:this.dataForm.collisionSources,flag:e?this.dataForm.handle2:this.dataForm.handle};this.$api.collideAnalyse(l).then((function(e){var a=e.data;a&&200===a.code&&(a.result.length>0?(t.buildTableArr(t.dataForm.collisionSources,a.result),t.resultFlag=!0,t.$message({message:"碰撞成功！",type:"success",duration:1500})):t.$message({message:"没有查询到数据！",type:"error",duration:1500}))}))},buildTableArr:function(e,t){"Fugitive"===e?(this.thList=this.fugitiveTh,this.dataList=t.map((function(e){return{name:e.name,idNumber:e.idNumber,nativePlace:e.nativePlace}}))):"ImportantControl"===e?(this.thList=this.ImportantControlTh,this.dataList=t.map((function(e){return{name:e.name,idNumber:e.idNumber,education:e.education,currentAddress:e.currentAddress}}))):"Car"===e?(this.thList=this.CarTh,this.dataList=t.map((function(e){return{carNumber:e.carNumber,model:e.model,color:e.color}}))):"RailwayReal"===e?(this.thList=this.RailwayRealTh,this.dataList=t.map((function(e){return{idNumber:e.idNumber,name:e.name,seatNumber:e.carriageNumber+e.seatNumber+"号",startStation:e.startStation,destination:e.destination}}))):"Case"===e&&(this.thList=this.CaseTh,this.dataList=t.map((function(e){return{caseNo:e.caseNo,caseHandlingAgencies:e.caseHandlingAgencies,detail:e.detail}})))},lookInfo:function(){}},created:function(){},mounted:function(){}},n=r,s=(a("b812"),a("6691")),d=Object(s["a"])(n,l,i,!1,null,"5a382822",null);t["default"]=d.exports},b812:function(e,t,a){"use strict";var l=a("92f8"),i=a.n(l);i.a},e30b:function(e,t,a){"use strict";var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,"before-close":e.handleClose,width:e.width,"close-on-click-modal":e.flag,"modal-append-to-body":e.flag2,modal:e.modal},on:{"update:visible":function(t){e.visible=t},close:function(t){return e.$emit("update:show",!1)}}},[a("div",{staticClass:"body-content"},[a("div",{staticClass:"fly-dialog-title"},[a("span",[e._v(e._s(e.title))])]),a("div",{staticClass:"fly-dialog-body"},[[e._t("default")]],2)]),e._t("ft",null,{slot:"footer"})],2)},i=[],o={props:{show:{type:Boolean,default:!1},title:{type:String,default:""},width:{type:String,default:"620px"},modal:{type:Boolean,default:!0},flag:{type:Boolean,default:!1}},data:function(){return{flag2:!1,visible:this.show}},watch:{show:function(){this.visible=this.show}},methods:{handleClose:function(e){this.$emit("beforeCloseDialog"),e()}}},r=o,n=a("6691"),s=Object(n["a"])(r,l,i,!1,null,null,null);t["a"]=s.exports}}]);