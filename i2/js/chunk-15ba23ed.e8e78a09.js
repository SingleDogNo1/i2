(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15ba23ed"],{"3a06":function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},"611d":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.callForm}},[i("el-form-item",{attrs:{label:"呼叫时间"}},[i("el-date-picker",{attrs:{type:"datetimerange","picker-options":t.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:t.callForm.time,callback:function(e){t.$set(t.callForm,"time",e)},expression:"callForm.time"}})],1),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("查询")])],1)],1),i("div",{attrs:{id:"chart"}}),i("div",{attrs:{id:"picture1"}}),i("div",{attrs:{id:"picture2"}}),i("div",{attrs:{id:"picture3"}}),i("div",{attrs:{id:"picture4"}})],1)},o=[],r=(i("8f42"),i("40c5"),i("23cc"),i("cc1d"),i("c041"),i("de90"),i("4634"),i("fb92")),n=i("d84b"),l=i.n(n),c={data:function(){return{pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-6048e5),t.$emit("pick",[i,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-2592e6),t.$emit("pick",[i,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-7776e6),t.$emit("pick",[i,e])}}]},callForm:{time:null},callDetailData:[],callDetailData2:[],pictureData1:{},pictureData2:{},pictureData3:{},pictureData4:{}}},mounted:function(){this.callDetailData=JSON.parse(localStorage.getItem("phoneInfo")),this.onSubmit()},methods:{onSubmit:function(){var t=this.callDetailData;this.callDetailData2=t;var e=this.callForm;null!=e.time&&this.timeSizer(),this.situation(this.callDetailData2),this.pictureData2=this.dayCount(this.callDetailData2),this.pictureData3=this.phoneCount(this.callDetailData2,"主叫"),this.pictureData4=this.phoneCount(this.callDetailData2,"被叫"),this.picture1(),this.picture2(),this.picture3(),this.picture4()},situation:function(t){this.pictureData1={callNumber:t.length,duration:this.durationData(t),Lord:this.callLord(t),passive:this.callPassive(t)}},phoneCount:function(t,e){var i={},a={},o=[],r=[],n=[];return t.forEach((function(t){if(t.communicationMode===e){var i=t.otherPartyPhone;if(a[i])for(var o=0;o<n.length;o++){var r=n[o],l=t.otherPartyPhone;if(r.otherPartyPhone===l){r.count++;break}}else n.push({otherPartyPhone:i,count:1}),a[i]=t}})),n.forEach((function(t){o.push(t.otherPartyPhone),r.push(t.count)})),i.count=r,o.length>10?i.otherPartyPhone=o.slice(0,10):i.otherPartyPhone=o,r.length>10?i.count=r.slice(0,10):i.count=r,i},dayCount:function(t){var e={},i={},a=[],o=[],n=[];return t.forEach((function(t){var e=Object(r["a"])(new Date(t.beginTime),"yyyy-MM-dd");if(i[e])for(var a=0;a<n.length;a++){var o=n[a],l=Object(r["a"])(new Date(t.beginTime),"yyyy-MM-dd");if(o.beginTime===l){o.count++;break}}else n.push({beginTime:e,count:1}),i[e]=t})),this.sortByKey(n,"beginTime","up"),n.forEach((function(t){a.push(t.beginTime),o.push(t.count)})),a.length>10?e.date=a.slice(0,10):e.date=a,o.length>10?e.count=o.slice(0,10):e.count=o,e.count=o.slice(0,10),e},sortByKey:function(t,e,i){return t.sort((function(t,a){var o=t[e],r=a[e];return"up"===i?o<r?-1:o>r?1:0:"down"===i?o<r?1:o>r?-1:0:void 0}))},callLord:function(t){var e=0;return t.forEach((function(t){"主叫"===t.communicationMode&&e++})),e},callPassive:function(t){var e=0;return t.forEach((function(t){"被叫"===t.communicationMode&&e++})),e},durationData:function(t){var e=this,i=0;return t.forEach((function(t){i+=e.timeToSec(t.communicationTime)})),i},timeToSec:function(t){var e,i,a,o=t.toString().replace(/分钟/g,"分"),r=o.toString().replace(/小时/g,"时");e=r.includes("时")?r.indexOf("时"):0,i=r.includes("分")?r.indexOf("分"):0,a=r.includes("秒")?r.indexOf("秒"):0;var n=0,l=0,c=0;0===e&&0===i&&0===a&&(c=r),0!==e&&(n=r.substring(0,e)),0!==i&&(l=r.substring(0===e?0:e+1,i)),0!==a&&(c=r.substring(0===i?0:i+1,a));var s=Number(3600*n)+Number(60*l)+Number(c);return s},timeSizer:function(){var t=this,e=this.callDetailData2,i=this.callForm.time,a=[];e.forEach((function(e){t.compareTime(e.beginTime,i[0],i[1])&&a.push(e)})),this.callDetailData2=a},compareTime:function(t,e,i){function a(t){return new Date(t.replace(/-/g,"/")).getTime()}t=Object(r["a"])(new Date(t),"yyyy-MM-dd hh:mm:ss"),e=Object(r["a"])(new Date(e),"yyyy-MM-dd hh:mm:ss"),i=Object(r["a"])(new Date(i),"yyyy-MM-dd hh:mm:ss");var o=a(e),n=a(i),l=a(t);return!(l<o||l>n)},timeChange:function(t){var e=t.map((function(t){var e=new Date(t),i=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds();return i}));return e},picture1:function(){var t=l.a.init(document.getElementById("picture1")),e={title:{text:"通话概况",textAlign:"center",left:580,textStyle:{color:"white",fontSize:28}},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",x:"left",data:["总通话次数","累计时长(s)","主叫占比","被叫占比"],textStyle:{color:"white"}},color:["rgba(128,125,239,0.9)","rgba(75,137,241,0.9)","rgba(225,150,54,0.9)","rgba(228,104,98,0.9)"],series:[{name:"总通话次数",type:"pie",radius:["30%","40%"],center:["15%","50%"],avoidLabelOverlap:!1,label:{normal:{show:!0,position:"center",textStyle:{fontSize:"15",fontWeight:"bold"}},emphasis:{show:!0,textStyle:{fontSize:"20",fontWeight:"bold"},color:"rgb(44, 239, 255)"}},data:[{value:this.pictureData1.callNumber,name:"总通话次数",itemStyle:{color:"rgba(128,125,239,0.9)"}}]},{name:"累计时长",type:"pie",radius:["30%","40%"],center:["50%","50%"],avoidLabelOverlap:!1,label:{normal:{show:!0,position:"center",textStyle:{fontSize:"15",fontWeight:"bold"}},emphasis:{show:!0,textStyle:{fontSize:"20",fontWeight:"bold"},color:"rgb(44, 239, 255)"}},data:[{value:this.pictureData1.duration,name:"累计时长(s)",itemStyle:{color:"rgba(75,137,241,0.9)"}}]},{name:"主被叫",type:"pie",radius:["30%","40%"],center:["85%","50%"],avoidLabelOverlap:!1,label:{normal:{show:!0,position:"center",textStyle:{fontSize:"15",fontWeight:"bold"}},emphasis:{show:!0,textStyle:{fontSize:"20",fontWeight:"bold"},color:"rgb(44, 239, 255)"}},data:[{value:this.pictureData1.Lord,name:"主叫占比",itemStyle:{color:"rgba(225,150,54,0.9)"}},{value:this.pictureData1.passive,name:"被叫占比",itemStyle:{color:"rgba(228,104,98,0.9)"}}]}]};t.setOption(e),window.addEventListener("resize",(function(){t.resize()}))},picture2:function(){var t=l.a.init(document.getElementById("picture2")),e={title:{text:"单日通话次数Top10",textAlign:"center",left:580,textStyle:{color:"white",fontSize:28}},color:["#F2F2F2"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},toolbox:{show:!0,right:30,feature:{saveAsImage:{show:!0,excludeComponents:["toolbox"],pixelRatio:2}}},xAxis:[{name:"时间",nameTextStyle:{color:"white"},type:"category",data:this.pictureData2.date,axisLabel:{show:!0,textStyle:{color:"#fff"}},axisLine:{lineStyle:{type:"solid",color:"rgba(44, 239, 255, 0.6)",width:"1"}}}],yAxis:[{name:"通话次数",nameTextStyle:{color:"white"},type:"value",axisLabel:{formatter:"{value}",textStyle:{color:"#fff"}},axisLine:{lineStyle:{type:"solid",color:"rgb(44, 239, 255)",width:"1"}},axisTick:{lineStyle:{color:"rgb(150,150,150)"}},splitLine:{show:!0,lineStyle:{type:"dashed",color:"rgba(44, 239, 255,0.3)"}}}],series:[{name:"通话次数",type:"bar",barWidth:"20%",data:this.pictureData2.count}],emphasis:{itemStyle:{color:"rgb(44, 239, 255)"}}};t.setOption(e),window.addEventListener("resize",(function(){t.resize()}))},picture3:function(){var t=l.a.init(document.getElementById("picture3")),e={title:{text:"主叫TOP",textAlign:"center",left:580,textStyle:{color:"white",fontSize:28}},color:["#F2F2F2"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},toolbox:{show:!0,right:30,feature:{saveAsImage:{show:!0,excludeComponents:["toolbox"],pixelRatio:2}}},grid:{bottom:"4%",containLabel:!0},xAxis:[{name:"电话号码",nameTextStyle:{color:"white"},type:"category",data:this.pictureData3.otherPartyPhone,axisLabel:{show:!0,interval:0,rotate:"45",textStyle:{color:"#fff"}},axisLine:{lineStyle:{type:"solid",color:"rgba(44, 239, 255, 0.6)",width:"1"}}}],yAxis:[{name:"通话次数",nameTextStyle:{color:"white"},type:"value",axisLabel:{formatter:"{value}",textStyle:{color:"#fff"}},axisLine:{lineStyle:{type:"solid",color:"rgb(44, 239, 255)",width:"1"}},axisTick:{lineStyle:{color:"rgb(150,150,150)"}},splitLine:{show:!0,lineStyle:{type:"dashed",color:"rgba(44, 239, 255,0.3)"}}}],series:[{name:"通话次数",type:"bar",barWidth:"20%",data:this.pictureData3.count}],emphasis:{itemStyle:{color:"rgb(44, 239, 255)"}}};t.setOption(e),window.addEventListener("resize",(function(){t.resize()}))},picture4:function(){var t=l.a.init(document.getElementById("picture4")),e={title:{text:"被叫TOP",textAlign:"center",left:580,textStyle:{color:"white",fontSize:28}},color:["#F2F2F2"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},toolbox:{show:!0,right:30,feature:{saveAsImage:{show:!0,excludeComponents:["toolbox"],pixelRatio:2}}},grid:{bottom:"4%",containLabel:!0},xAxis:[{name:"电话号码",nameTextStyle:{color:"white"},type:"category",data:this.pictureData4.otherPartyPhone,axisLabel:{show:!0,interval:0,rotate:"45",textStyle:{color:"#fff"}},axisLine:{lineStyle:{type:"solid",color:"rgba(44, 239, 255, 0.6)",width:"1"}}}],yAxis:[{name:"通话次数",nameTextStyle:{color:"white"},type:"value",axisLabel:{formatter:"{value}",textStyle:{color:"#fff"}},axisLine:{lineStyle:{type:"solid",color:"rgb(44, 239, 255)",width:"1"}},axisTick:{lineStyle:{color:"rgb(150,150,150)"}},splitLine:{show:!0,lineStyle:{type:"dashed",color:"rgba(44, 239, 255,0.3)"}}}],series:[{name:"通话次数",type:"bar",barWidth:"20%",data:this.pictureData4.count}],emphasis:{itemStyle:{color:"rgb(44, 239, 255)"}}};t.setOption(e),window.addEventListener("resize",(function(){t.resize()}))}}},s=c,u=(i("e4e0"),i("6691")),h=Object(u["a"])(s,a,o,!1,null,"6af61613",null);e["default"]=h.exports},7130:function(t,e,i){var a=i("2498"),o=i("3038"),r=i("0cc1"),n=i("3a06"),l="["+n+"]",c="​",s=RegExp("^"+l+l+"*"),u=RegExp(l+l+"*$"),h=function(t,e,i){var o={},l=r((function(){return!!n[t]()||c[t]()!=c})),s=o[t]=l?e(f):n[t];i&&(o[i]=s),a(a.P+a.F*l,"String",o)},f=h.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(s,"")),2&e&&(t=t.replace(u,"")),t};t.exports=h},"8eba":function(t,e,i){"use strict";var a=i("0cc1");t.exports=function(t,e){return!!t&&a((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"8f42":function(t,e,i){"use strict";var a=i("3f8b"),o=i("549d"),r=i("6077"),n=i("1e01"),l=i("2ab1"),c=i("0cc1"),s=i("cb2e").f,u=i("e493").f,h=i("d3d8").f,f=i("7130").trim,p="Number",d=a[p],m=d,y=d.prototype,g=r(i("65c3")(y))==p,b="trim"in String.prototype,x=function(t){var e=l(t,!1);if("string"==typeof e&&e.length>2){e=b?e.trim():f(e,3);var i,a,o,r=e.charCodeAt(0);if(43===r||45===r){if(i=e.charCodeAt(2),88===i||120===i)return NaN}else if(48===r){switch(e.charCodeAt(1)){case 66:case 98:a=2,o=49;break;case 79:case 111:a=8,o=55;break;default:return+e}for(var n,c=e.slice(2),s=0,u=c.length;s<u;s++)if(n=c.charCodeAt(s),n<48||n>o)return NaN;return parseInt(c,a)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof d&&(g?c((function(){y.valueOf.call(i)})):r(i)!=p)?n(new m(x(e)),i,d):x(e)};for(var v,S=i("f9a5")?s(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;S.length>w;w++)o(m,v=S[w])&&!o(d,v)&&h(d,v,u(m,v));d.prototype=y,y.constructor=d,i("a6d5")(a,p,d)}},d9f1:function(t,e,i){},de90:function(t,e,i){"use strict";var a=i("2498"),o=i("8451"),r=i("a9cf"),n=i("0cc1"),l=[].sort,c=[1,2,3];a(a.P+a.F*(n((function(){c.sort(void 0)}))||!n((function(){c.sort(null)}))||!i("8eba")(l)),"Array",{sort:function(t){return void 0===t?l.call(r(this)):l.call(r(this),o(t))}})},e4e0:function(t,e,i){"use strict";var a=i("d9f1"),o=i.n(a);o.a}}]);