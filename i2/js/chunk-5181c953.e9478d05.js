(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5181c953","chunk-2d225016"],{1629:function(t,e,i){},"658e":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fly-dialog",{attrs:{title:"管理",width:"980px",show:t.visible},on:{"update:show":function(e){t.visible=e},beforeCloseDialog:t.beforeClose}},[i("div",{staticClass:"mod-form"},[i("el-form",{ref:"dataForm",attrs:{inline:!0,model:t.dataForm}},[i("el-form-item",[i("el-input",{attrs:{placeholder:"关键字",clearable:""},model:{value:t.dataForm.keywords,callback:function(e){t.$set(t.dataForm,"keywords",e)},expression:"dataForm.keywords"}})],1),i("el-form-item",[i("el-button",{attrs:{size:"small",type:"success"},on:{click:function(e){return t.searchDataList()}}},[t._v("检索")])],1)],1)],1),i("el-row",[i("el-col",{attrs:{span:8}},[i("div",{staticClass:"resultList clearfix"},[i("ul",t._l(t.resultList,(function(e,s){return i("li",{key:s,class:{active:s===t.activeLi},on:{click:function(i){return t.resultLiClick(s,e.id)}}},[i("dl",{staticClass:"clearfix"},[i("dt",{staticClass:"item-num fl"},[i("i",{staticClass:"num"},[t._v(t._s(++s))])]),i("dd",{staticClass:"fl"},[i("h3",{staticClass:"title"},[t._v("["+t._s(e.recordTitle)+"]分析结果")]),i("p",[i("span",{staticClass:"time"},[t._v(t._s(e.createTime))])])])])])})),0)])]),i("el-col",{attrs:{span:16}},[i("div",{staticClass:"cont-info"},[i("div",{staticClass:"info-title"},[t._v(t._s(t.activeInfo.recordTitle))]),i("p",{staticClass:"content"},[t._v(t._s(t.activeInfo.description))]),t.resultList.length>0?i("div",{staticClass:"btn-box"},[i("span",{staticClass:"fly-btn btn-denger",attrs:{id:"btnDelete"},on:{click:t.deleteCacheHandle}},[t._v("删除")]),i("span",{staticClass:"fly-btn btn-load",on:{click:t.loadJson}},[t._v("加载")]),i("span",{staticClass:"fly-btn btn-load",on:{click:t.loadJson}},[t._v("重载")])]):t._e()])])],1)],1)},a=[],l=i("e30b"),n={components:{FlyDialog:l["a"]},props:{},data:function(){return{visible:!1,resultList:[],activeInfo:{recordTitle:"",description:""},activeLi:0,currCacheNodes:[],dataForm:{label:"",title:""},dataRule:{}}},computed:{},methods:{init:function(){var t=this,e={pageNumber:1,pageSize:10,sort:"",order:"desc",userName:"10011"};this.$api.listAllAnalyticalRecords(e).then((function(e){var i=e.data;t.resultList=i&&200===i.code?i.result:[],t.resultList.length>0?(t.activeInfo=t.resultList[0],t.currCacheNodes=t.resultList[0].json):t.activeInfo={recordTitle:"",description:""},t.activeLi=0})).then((function(){t.visible=!0}))},resultLiClick:function(t,e){for(var i in this.activeLi=--t,this.resultList)if(this.resultList[i].id===e){this.activeInfo=this.resultList[i];break}},deleteCacheHandle:function(t){var e=this,i=this.activeInfo.id;this.$confirm("确定要进行删除操作？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$api.deleteAnalyticalRecords({analyticalRecordsId:i}).then((function(t){var i=t.data;i&&200===i.code?e.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){e.init()}}):e.$message.error(i.message)}))}))},loadJson:function(){var t=this;this.$api.loadAnalyticalRecords({analyticalRecordsId:this.activeInfo.id}).then((function(e){for(var i=e.data,s=JSON.parse(i.result).nodes,a=JSON.parse(i.result).edges,l=0;l<s.length;l++)t.global.nodes.getIds().indexOf(s[l].id)<0&&t.global.nodes.add(s[l]);for(var n=0;n<a.length;n++)t.global.edges.getIds().indexOf(a[n].id)<0&&t.global.edges.add(a[n])}))},dataFormSubmit:function(){var t=this;this.$refs["dataForm"].validate((function(e){e&&(t.visible=!1)}))},beforeClose:function(){this.$emit("refreshDataList"),this.visible=!1}},created:function(){},mounted:function(){}},o=n,c=(i("d87f"),i("6691")),r=Object(c["a"])(o,s,a,!1,null,"6cf6ad2e",null);e["default"]=r.exports},d87f:function(t,e,i){"use strict";var s=i("1629"),a=i.n(s);a.a},e30b:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{visible:t.visible,"before-close":t.handleClose,width:t.width,"close-on-click-modal":t.flag,"modal-append-to-body":t.flag2,modal:t.modal},on:{"update:visible":function(e){t.visible=e},close:function(e){return t.$emit("update:show",!1)}}},[i("div",{staticClass:"body-content"},[i("div",{staticClass:"fly-dialog-title"},[i("span",[t._v(t._s(t.title))])]),i("div",{staticClass:"fly-dialog-body"},[[t._t("default")]],2)]),t._t("ft",null,{slot:"footer"})],2)},a=[],l={props:{show:{type:Boolean,default:!1},title:{type:String,default:""},width:{type:String,default:"620px"},modal:{type:Boolean,default:!0},flag:{type:Boolean,default:!1}},data:function(){return{flag2:!1,visible:this.show}},watch:{show:function(){this.visible=this.show}},methods:{handleClose:function(t){this.$emit("beforeCloseDialog"),t()}}},n=l,o=i("6691"),c=Object(o["a"])(n,s,a,!1,null,null,null);e["a"]=c.exports}}]);