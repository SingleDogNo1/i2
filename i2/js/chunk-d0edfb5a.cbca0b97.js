(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d0edfb5a"],{"12d9":function(e,t,n){n("436f")(n("8ddf"))},"553a":function(e,t,n){},5709:function(e,t,n){"use strict";var o=n("eb37"),a=n.n(o);a.a},"630b":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"userManage"}},[n("div",{staticClass:"coat1"},[n("div",{staticClass:"coat2"},[n("div",{staticClass:"operateMenu"},[n("ul",{staticClass:"clearfix"},[n("li",{on:{click:function(t){e.clearValue(),e.addDialog=!0}}},[e._v("添加")]),n("li",{on:{click:function(t){e.pitchOn()&&(e.addValue(),e.editDialog=!0)}}},[e._v("\n            编辑\n          ")]),n("li",{on:{click:e.lookUser}},[e._v("查看")]),n("li",{on:{click:function(t){e.pitchOn2()&&(e.deleteDialog=!0)}}},[e._v("删除")]),n("li",{on:{click:function(t){e.importDialog=!0}}},[e._v("导入")]),n("li",{on:{click:function(t){e.exportDialog=!0}}},[e._v("导出")]),n("li",{on:{click:function(t){e.pitchOn()&&(e.startDialog=!0)}}},[e._v("启用")]),n("li",{on:{click:function(t){e.pitchOn()&&(e.stopDialog=!0)}}},[e._v("停用")]),n("li",{on:{click:function(t){e.pitchOn()&&(e.resetPassDialog=!0)}}},[e._v("重置密码")]),n("li",{on:{click:function(t){e.pitchOn()&&(e.resetAnswerDialog=!0)}}},[e._v("重置回答")]),n("li",{on:{click:function(t){return e.flush()}}},[e._v("刷新")])])]),n("div",{staticClass:"fgx"}),n("div",{staticClass:"criteria"},[n("el-form",{ref:"criteria",staticClass:"demo-ruleForm",attrs:{model:e.criteria,"status-icon":""}},[n("el-form-item",[n("el-input",{attrs:{placeholder:"登录名（输入)"},model:{value:e.criteria.user,callback:function(t){e.$set(e.criteria,"user",t)},expression:"criteria.user"}})],1),n("el-form-item",[n("el-input",{attrs:{placeholder:"姓名（输入）"},model:{value:e.criteria.name,callback:function(t){e.$set(e.criteria,"name",t)},expression:"criteria.name"}})],1),n("el-form-item",[n("el-select",{attrs:{"popper-class":"fromselect",placeholder:"请选择状态"},model:{value:e.criteria.status,callback:function(t){e.$set(e.criteria,"status",t)},expression:"criteria.status"}},e._l(e.statusList,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),n("el-form-item",[n("el-select",{attrs:{"popper-class":"fromselect",placeholder:"请选择部门"},model:{value:e.criteria.section,callback:function(t){e.$set(e.criteria,"section",t)},expression:"criteria.section"}},e._l(e.sectionList,(function(e,t){return n("el-option",{key:t,attrs:{label:e.title,value:e.id}})})),1)],1),n("el-form-item",[n("el-select",{attrs:{"popper-class":"fromselect",placeholder:"请选择用户组"},model:{value:e.criteria.userGroup,callback:function(t){e.$set(e.criteria,"userGroup",t)},expression:"criteria.userGroup"}},e._l(e.userGroupList,(function(e,t){return n("el-option",{key:t,attrs:{label:e.description,value:e.id}})})),1)],1),n("el-form-item",[n("el-button",{staticClass:"seekBut",attrs:{type:"primary"},on:{click:e.search}},[e._v("搜索")])],1)],1)],1),n("div",{staticClass:"userList"},[n("div",{staticClass:"organTable"},[n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.userList,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"50"}}),n("el-table-column",{attrs:{prop:"username",label:"登录名",width:"100"}}),n("el-table-column",{attrs:{prop:"nickName",label:"姓名",width:"100"}}),n("el-table-column",{attrs:{prop:"description",label:"部门",width:"110"}}),n("el-table-column",{attrs:{prop:"userGroup",label:"用户组",width:"120"}}),n("el-table-column",{attrs:{prop:"endTime",label:"最后登录时间",width:"180","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{prop:"loginWay",label:"登录类型",width:"120"}}),n("el-table-column",{attrs:{prop:"status",label:"状态",width:"100"}}),n("el-table-column",{attrs:{prop:"policeType",label:"警种类别",width:"100"}}),n("el-table-column",{attrs:{prop:"berichtenDepartment",label:"上报部门"}})],1)],1),n("Pagination",{staticClass:"user-list-pagination",attrs:{curPage:e.currentPage,totalPage:e.totalPage,size:e.pageSize},on:{handleCurrentChange:e.changePage}})],1),n("div",{staticClass:"dialog"},[n("fly-dialog",{attrs:{title:"添加用户",show:e.addDialog},on:{"update:show":function(t){e.addDialog=t}}},[n("el-form",{ref:"form",staticClass:"demo-ruleForm",attrs:{model:e.form,"status-icon":"",rules:e.rules,"hide-required-asterisk":e.asterisk,"label-width":"49%"}},[n("el-form-item",{attrs:{label:"登陆账号",prop:"user"}},[n("el-input",{model:{value:e.form.user,callback:function(t){e.$set(e.form,"user",t)},expression:"form.user"}})],1),n("el-form-item",{attrs:{label:"姓名",prop:"name"}},[n("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),n("el-form-item",{attrs:{label:"身份证号",prop:"IDCard"}},[n("el-input",{model:{value:e.form.IDCard,callback:function(t){e.$set(e.form,"IDCard",t)},expression:"form.IDCard"}})],1),n("el-form-item",{attrs:{label:"电话号码",prop:"mobile"}},[n("el-input",{model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),n("el-form-item",{attrs:{label:"警号",prop:"policeNo"}},[n("el-input",{model:{value:e.form.policeNo,callback:function(t){e.$set(e.form,"policeNo",t)},expression:"form.policeNo"}})],1),n("el-form-item",{attrs:{label:"电子邮件",prop:"email"}},[n("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),n("el-form-item",{attrs:{label:"部门",prop:"section"}},[n("el-select",{attrs:{"popper-class":"fromselect",placeholder:"请选择部门"},model:{value:e.form.section,callback:function(t){e.$set(e.form,"section",t)},expression:"form.section"}},e._l(e.sectionList,(function(e,t){return n("el-option",{key:t,attrs:{label:e.title,value:e.title}})})),1)],1),n("el-form-item",{attrs:{label:"用户组",prop:"userGroup"}},[n("el-select",{attrs:{"popper-class":"fromselect",placeholder:"请选择用户组"},model:{value:e.form.userGroup,callback:function(t){e.$set(e.form,"userGroup",t)},expression:"form.userGroup"}},e._l(e.userGroupList,(function(e,t){return n("el-option",{key:t,attrs:{label:e.description,value:e.description}})})),1)],1),n("el-form-item",{attrs:{label:"状态",prop:"status"}},[n("el-select",{attrs:{"popper-class":"fromselect",placeholder:"请选择状态"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusList,(function(e,t){return n("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),n("el-form-item",{attrs:{label:"警种类别",prop:"policeKind"}},[n("el-select",{attrs:{"popper-class":"fromselect",placeholder:"请选择警种类别"},model:{value:e.form.policeKind,callback:function(t){e.$set(e.form,"policeKind",t)},expression:"form.policeKind"}},e._l(e.policeKindList,(function(e,t){return n("el-option",{key:t,attrs:{label:e.typeName,value:e.typeName}})})),1)],1),n("el-form-item",{attrs:{label:"上报部门",prop:"reportedSection"}},[n("el-select",{attrs:{"popper-class":"fromselect",placeholder:"请选择上报部门"},on:{change:e.chooseDepartmentId},model:{value:e.form.reportedSection,callback:function(t){e.$set(e.form,"reportedSection",t)},expression:"form.reportedSection"}},e._l(e.sectionList,(function(e,t){return n("el-option",{key:t,attrs:{label:e.title,value:e.title}})})),1)],1)],1),n("div",{staticClass:"butCoat"},[n("el-button",{staticClass:"canBut",on:{click:function(t){e.addDialog=!1}}},[n("span",[e._v("取 消")])]),n("el-button",{staticClass:"okBut",attrs:{type:"primary"},on:{click:e.addUser}},[n("span",[e._v("确 定")])])],1)],1),n("fly-dialog",{attrs:{title:"编辑用户",show:e.editDialog},on:{"update:show":function(t){e.editDialog=t}}},[n("el-form",{ref:"form",staticClass:"demo-ruleForm",attrs:{model:e.form,"status-icon":"","hide-required-asterisk":e.asterisk,rules:e.rules,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"登陆账号",prop:"username"}},[n("el-input",{attrs:{disabled:!0},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),n("el-form-item",{attrs:{label:"姓名",prop:"nickName"}},[n("el-input",{attrs:{disabled:!0},model:{value:e.form.nickName,callback:function(t){e.$set(e.form,"nickName",t)},expression:"form.nickName"}})],1),n("el-form-item",{attrs:{label:"部门",prop:"section"}},[n("el-select",{attrs:{"popper-class":"fromselect",placeholder:"请选择部门"},model:{value:e.form.section,callback:function(t){e.$set(e.form,"section",t)},expression:"form.section"}},e._l(e.sectionList,(function(e,t){return n("el-option",{key:t,attrs:{label:e.title,value:e.title}})})),1)],1),n("el-form-item",{attrs:{label:"用户组",prop:"userGroup"}},[n("el-select",{attrs:{"popper-class":"fromselect",placeholder:"请选择用户组"},model:{value:e.form.userGroup,callback:function(t){e.$set(e.form,"userGroup",t)},expression:"form.userGroup"}},e._l(e.userGroupList,(function(e,t){return n("el-option",{key:t,attrs:{label:e.description,value:e.description}})})),1)],1),n("el-form-item",{attrs:{label:"状态",prop:"status"}},[n("el-select",{attrs:{"popper-class":"fromselect",placeholder:"请选择状态"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusList,(function(e,t){return n("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),n("el-form-item",{attrs:{label:"警种类别",prop:"policeKind"}},[n("el-select",{attrs:{"popper-class":"fromselect",placeholder:"请选择警种类别"},model:{value:e.form.policeKind,callback:function(t){e.$set(e.form,"policeKind",t)},expression:"form.policeKind"}},e._l(e.policeKindList,(function(e,t){return n("el-option",{key:t,attrs:{label:e.typeName,value:e.typeName}})})),1)],1),n("el-form-item",{attrs:{label:"上报部门",prop:"reportedSection"}},[n("el-select",{attrs:{"popper-class":"fromselect",placeholder:"请选择上报部门"},model:{value:e.form.reportedSection,callback:function(t){e.$set(e.form,"reportedSection",t)},expression:"form.reportedSection"}},e._l(e.sectionList,(function(e,t){return n("el-option",{key:t,attrs:{label:e.title,value:e.title}})})),1)],1)],1),n("div",{staticClass:"butCoat"},[n("el-button",{staticClass:"canBut",on:{click:function(t){e.editDialog=!1}}},[n("span",[e._v("取 消")])]),n("el-button",{staticClass:"okBut",attrs:{type:"primary"},on:{click:e.editUser}},[n("span",[e._v("确 定")])])],1)],1),n("fly-dialog",{attrs:{title:"查看用户详情",show:e.lookDialog},on:{"update:show":function(t){e.lookDialog=t}}},[n("div",{attrs:{id:"uesrInfo"}},[n("div",[n("span",[e._v("登陆账号:")]),n("span",[e._v(e._s(e.lookInfo.username))])]),n("div",[n("span",[e._v("姓名:")]),n("span",[e._v(e._s(e.lookInfo.nickName))])]),n("div",[n("span",[e._v("部门:")]),n("span",[e._v("\n                "+e._s(""===e.lookInfo.description||null===e.lookInfo.description?"暂无数据":e.lookInfo.description)+"\n              ")])]),n("div",[n("span",[e._v("用户组:")]),n("span",[e._v(e._s(e.lookInfo.userGroup))])]),n("div",[n("span",[e._v("状态:")]),n("span",[e._v(e._s(e.lookInfo.status))])]),n("div",[n("span",[e._v("警种类别:")]),n("span",[e._v(e._s(e.lookInfo.policeType))])]),n("div",[n("span",[e._v("上报部门:")]),n("span",[e._v("\n                "+e._s(""===e.lookInfo.berichtenDepartment||null===e.lookInfo.berichtenDepartment?"暂无数据":e.lookInfo.berichtenDepartment)+"\n              ")])]),n("div",{staticClass:"butCoat"},[n("el-button",{staticClass:"canBut",on:{click:function(t){e.lookDialog=!1}}},[n("span",[e._v("取 消")])])],1)])]),n("fly-dialog",{attrs:{title:"删除",show:e.deleteDialog},on:{"update:show":function(t){e.deleteDialog=t}}},[n("span",{staticClass:"content"},[e._v("确定删除？")]),n("div",{staticClass:"butCoat"},[n("el-button",{staticClass:"canBut",on:{click:function(t){e.deleteDialog=!1}}},[n("span",[e._v("取 消")])]),n("el-button",{staticClass:"okBut",attrs:{type:"primary"},on:{click:e.deleteUser}},[n("span",[e._v("确 定")])])],1)]),n("fly-dialog",{attrs:{title:"导入",show:e.importDialog},on:{"update:show":function(t){e.importDialog=t}}},[n("span",{staticClass:"content"},[e._v("导入")]),n("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:e.uploadURL,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-upload":e.beforeUpload,"on-error":e.uploadError,"on-success":e.uploadSuccess,limit:1,"on-exceed":e.handleExceed,"auto-upload":!1}},[n("el-button",{staticClass:"impBut",attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传xls/xlsx文件")])],1),n("div",{staticClass:"butCoat"},[n("el-button",{staticClass:"canBut",on:{click:function(t){e.importDialog=!1}}},[e._v("取 消")]),n("el-button",{staticClass:"okBut",attrs:{type:"primary"},on:{click:e.importUser}},[e._v("确 定")])],1)],1),n("fly-dialog",{attrs:{title:"导出",show:e.exportDialog},on:{"update:show":function(t){e.exportDialog=t}}},[n("span",{staticClass:"content"},[e._v("导出")]),n("div",{staticClass:"butCoat"},[n("el-button",{staticClass:"canBut",on:{click:function(t){e.exportDialog=!1}}},[e._v("取 消")]),n("el-button",{staticClass:"okBut",attrs:{type:"primary"},on:{click:e.exportUser}},[e._v("确 定")])],1)]),n("fly-dialog",{attrs:{title:"启用",show:e.startDialog},on:{"update:show":function(t){e.startDialog=t}}},[n("span",{staticClass:"content"},[e._v("确定启用该用户？")]),n("div",{staticClass:"butCoat"},[n("el-button",{staticClass:"canBut",on:{click:function(t){e.startDialog=!1}}},[n("span",[e._v("取 消")])]),n("el-button",{staticClass:"okBut",attrs:{type:"primary"},on:{click:e.startUser}},[n("span",[e._v("确 定")])])],1)]),n("fly-dialog",{attrs:{title:"停用",show:e.stopDialog},on:{"update:show":function(t){e.stopDialog=t}}},[n("span",{staticClass:"content"},[e._v("确定停用该用户？")]),n("div",{staticClass:"butCoat"},[n("el-button",{staticClass:"canBut",on:{click:function(t){e.stopDialog=!1}}},[e._v("取 消")]),n("el-button",{staticClass:"okBut",attrs:{type:"primary"},on:{click:e.stopUser}},[e._v("确 定")])],1)]),n("fly-dialog",{attrs:{title:"重置密码",show:e.resetPassDialog},on:{"update:show":function(t){e.resetPassDialog=t}}},[n("span",{staticClass:"content"},[e._v("确定重置该用户密码？")]),n("div",{staticClass:"butCoat"},[n("el-button",{staticClass:"canBut",on:{click:function(t){e.resetPassDialog=!1}}},[n("span",[e._v("取 消")])]),n("el-button",{staticClass:"okBut",attrs:{type:"primary"},on:{click:e.resetPassUser}},[n("span",[e._v("确 定")])])],1)]),n("fly-dialog",{attrs:{title:"重置回答",show:e.resetAnswerDialog},on:{"update:show":function(t){e.resetAnswerDialog=t}}},[n("span",{staticClass:"content"},[e._v("确定重置该用户回答？")]),n("div",{staticClass:"butCoat"},[n("el-button",{staticClass:"canBut",on:{click:function(t){e.resetAnswerDialog=!1}}},[n("span",[e._v("取 消")])]),n("el-button",{staticClass:"okBut",attrs:{type:"primary"},on:{click:e.resetAnswerUser}},[n("span",[e._v("确 定")])])],1)])],1)])])])},a=[],i=(n("63ff"),n("f8f9")),r=(n("7cfd"),n("e04f")),s=n.n(r),l=n("8593"),c=n("e30b"),u=n("1799");n("55e8");function p(e,t){t&&(e+=1462);var n=Date.parse(e);return(n-new Date(Date.UTC(1899,11,30)))/864e5}function d(e,t){for(var n={},o={s:{c:1e7,r:1e7},e:{c:0,r:0}},a=0;a!=e.length;++a)for(var i=0;i!=e[a].length;++i){o.s.r>a&&(o.s.r=a),o.s.c>i&&(o.s.c=i),o.e.r<a&&(o.e.r=a),o.e.c<i&&(o.e.c=i);var r={v:e[a][i]};if(null!=r.v){var s=XLSX.utils.encode_cell({c:i,r:a});"number"===typeof r.v?r.t="n":"boolean"===typeof r.v?r.t="b":r.v instanceof Date?(r.t="n",r.z=XLSX.SSF._table[14],r.v=p(r.v)):r.t="s",n[s]=r}}return o.s.c<1e7&&(n["!ref"]=XLSX.utils.encode_range(o)),n}function f(){if(!(this instanceof f))return new f;this.SheetNames=[],this.Sheets={}}function m(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),o=0;o!=e.length;++o)n[o]=255&e.charCodeAt(o);return t}function b(e,t,n){var o=t;o.unshift(e);var a="SheetJS",i=new f,r=d(o);i.SheetNames.push(a),i.Sheets[a]=r;var s=XLSX.write(i,{bookType:"xlsx",bookSST:!1,type:"binary"}),l=n||"列表";saveAs(new Blob([m(s)],{type:"application/octet-stream"}),l+".xlsx")}n("1075"),n("12d9"),n("b4d4");var g={name:"userManage",components:{FlyDialog:c["a"],Pagination:u["a"]},data:function(){return{uploadURL:"http://192.168.1.186:90/admin/ImportExcelUser",currentPage:1,pageSize:10,totalPage:1,asterisk:!0,addDialog:!1,editDialog:!1,lookDialog:!1,deleteDialog:!1,importDialog:!1,exportDialog:!1,startDialog:!1,stopDialog:!1,resetPassDialog:!1,resetAnswerDialog:!1,form:{user:"",IDCard:"",name:"",mobile:"",policeNo:"",email:"",section:"",userGroup:"",status:"",policeKind:"",reportedSection:"",departmentId:""},criteria:{user:"",name:"",section:"",userGroup:"",status:""},lookInfo:{},userList:[{username:"",nickName:"",description:"",userGroup:"",endTime:"",loginWay:"",status:"",policeType:"",berichtenDepartment:""}],fileList2:[],rules:{user:[{required:!0,message:"请输入登陆账号",trigger:"blur"}],name:[{required:!0,message:"请输入用户姓名",trigger:"blur"}],IDCard:this.filter_rules({required:!0,type:"idCard"}),mobile:this.filter_rules({required:!0,type:"mobile"}),policeNo:[{required:!0,message:"请输入警号",trigger:"blur"}],email:this.filter_rules({required:!0,type:"email"}),section:[{required:!0,message:"请选择部门",trigger:"blur"}],userGroup:[{required:!0,message:"请选择用户组",trigger:"blur"}],lastLoginDate:[{required:!0,message:"请选择最后登录时间",trigger:"blur"}],loginType:[{required:!0,message:"请选择登录类型",trigger:"blur"}],status:[{required:!0,message:"请选择登录状态",trigger:"blur"}],policeKind:[{required:!0,message:"请选择警种类别",trigger:"blur"}],reportedSection:[{required:!0,message:"请选择上报部门",trigger:"blur"}]},statusList:[{value:0,label:"启用"},{value:1,label:"未启用"}],sectionList:[{id:"",pid:"",title:""}],userGroupList:[{createBy:"",createTime:"",delFlag:null,description:"",id:"",name:"",updateBy:"",updateTime:""}],policeKindList:[{id:"",createBy:"",createTime:"",updateBy:"",updateTime:"",typeName:"",delFlag:0}],multipleSelection:[]}},methods:{handleClose:function(e){this.$confirm("确认关闭？").then((function(t){e()})).catch((function(e){}))},clearValue:function(){for(var e in this.form)this.form.hasOwnProperty(e)&&(this.form[e]="")},addValue:function(){this.form=this.multipleSelection[0]},pitchOn:function(){var e=!1;return 1===this.multipleSelection.length?e=!0:this.$message.error("请选择一条数据!"),e},pitchOn2:function(){var e=!1;return this.multipleSelection.length>0?e=!0:this.$message.error("请至少选择一条数据!"),e},importUser:function(){this.$refs.upload.submit(),this.importDialog=!1},handleRemove:function(e,t){},handlePreview:function(e){},beforeUpload:function(e){var t="application/vnd.ms-excel"===e.type,n="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e.type;return t|n},uploadError:function(){this.$message({message:"文件上传失败!",type:"error"})},uploadSuccess:function(e,t,n){this.$message({type:"success",message:"文件上传成功"})},handleExceed:function(){this.$message.warning("当前限制选择 1 个文件，请删除后继续上传")},exportUser:function(){var e=this,t=[{label:"登录名",width:"",prop:"username"},{label:"姓名",width:"",prop:"nickName"},{label:"部门",width:"",prop:"description"},{label:"用户组",width:"",prop:"userGroup"},{label:"最后登录时间",width:"",prop:"endTime"},{label:"登录类型",width:"",prop:"loginWay"},{label:"状态",width:"",prop:"status"},{label:"警种类别",width:"",prop:"policeType"},{label:"上报部门",width:"",prop:"berichtenDepartment"}];Promise.resolve().then(function(){var n=[],o=[];t.forEach((function(e){n.push(e.label),o.push(e.prop)}));var a=e.multipleSelection,i=e.formatJson(o,a);b(n,i,"用户信息"),e.exportDialog=!1}.bind(null,n)).catch(n.oe)},formatJson:function(e,t){return t.map((function(t){return e.map((function(e){return t[e]}))}))},handleSelectionChange:function(e){this.multipleSelection=e},chooseDepartmentId:function(e){var t=this;this.sectionList.map((function(n,o){n.title===e&&(t.form.departmentId=n.id)}))},getUserList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.currentPage,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this.pageSize;Object(l["r"])({id:s.a.get("userId"),username:t,nickName:n,status:o,departmentId:a,rolesId:i,page:r,size:c}).then((function(t){var n=t.data;if(n&&200===n.code){var o=n.data,a=o.list,i=o.tUserIPage;a.map((function(e){e.status="".concat(0===e.status?"":"未","启用")})),e.userList=a,e.currentPage=i.current,e.totalPage=Math.ceil(i.total/i.size)}else e.$message.error(n.msg)}))},changePage:function(e){this.currentPage=e,this.getUserList(e)},search:function(){this.getUserList(this.criteria.user,this.criteria.name,this.criteria.status,this.criteria.section,this.criteria.userGroup)},addUser:function(){var e=this;this.$refs["form"].validate((function(t){t&&Object(l["d"])({userId:s.a.get("userId"),username:e.form.user,card:e.form.IDCard,nickName:e.form.name,policeType:e.form.policeKind,mobile:e.form.mobile,siren:e.form.policeNo,email:e.form.email,berichtenDepartment:e.form.reportedSection,departmentId:e.form.departmentId}).then((function(t){var n=t.data;n&&200===n.code?e.initPage((function(){e.$message({message:"添加用户成功",type:"success"}),e.addDialog=!1})):e.$message.error(n.msg)}))}))},editUser:function(){var e=this;this.$refs["form"].validate((function(t){t&&(e.editDialog=!1)}))},lookUser:function(){this.pitchOn()&&(this.lookInfo=this.multipleSelection[0],this.lookDialog=!0)},deleteUser:function(){var e=this,t=this.multipleSelection[0];Object(l["l"])({id:t.id,state:0}).then((function(n){var o=n.data;o&&200===o.code?(e.$message({message:"删除成功",type:"success"}),e.userList.map((function(n,o){n===t&&(e.userList.splice(o,1),e.deleteDialog=!1)}))):e.$message.error(o.msg)}))},startUser:function(){var e=this,t=this.multipleSelection[0];Object(l["l"])({id:t.id,state:2}).then((function(n){var o=n.data;o&&200===o.code?(e.$message({message:"启用成功",type:"success"}),e.userList.map((function(n,o){n===t&&(e.userList[o].status="启用",e.startDialog=!1)}))):e.$message.error(o.msg)}))},stopUser:function(){var e=this,t=this.multipleSelection[0];Object(l["l"])({id:t.id,state:1}).then((function(n){var o=n.data;o&&200===o.code?(e.$message({message:"停用成功",type:"success"}),e.userList.map((function(n,o){n===t&&(e.userList[o].status="未启用",e.startDialog=!1)}))):e.$message.error(o.msg)}))},resetPassUser:function(){var e=this,t=this.multipleSelection[0];Object(l["u"])({id:t.id}).then((function(t){var n=t.data;n&&200===n.code?(e.$message({message:"重置用户密码成功",type:"success"}),e.resetPassDialog=!1):e.$message.error(n.msg)}))},resetAnswerUser:function(){var e=this,t=this.multipleSelection[0];Object(l["t"])({id:t.id}).then((function(t){var n=t.data;n&&200===n.code?(e.$message({message:"重置回答二级密码问题成功",type:"success"}),e.resetAnswerDialog=!1):e.$message.error(n.msg)}))},flush:function(){var e=this;this.initPage((function(){e.$message({message:"刷新成功",type:"success"})}))},initPage:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,n=this,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:function(){},e.next=3,this.getUserList();case 3:return e.next=5,Object(l["n"])().then((function(e){var t=e.data;t&&200===t.code?(n.sectionList=t.data,n.sectionList.unshift({id:-1,pid:-1,title:"（不选择）"})):n.$message.error(t.msg)}));case 5:return e.next=7,Object(l["s"])({id:s.a.get("userId")}).then((function(e){var t=e.data;t&&200===t.code?n.userGroupList=t.data:n.$message.error(t.msg)}));case 7:return e.next=9,Object(l["o"])().then((function(e){var t=e.data;t&&200===t.code?n.policeKindList=t.data:n.$message.error(t.msg)}));case 9:return e.next=11,t();case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){this.initPage()}},h=g,v=(n("5709"),n("c1a7"),n("6691")),_=Object(v["a"])(h,o,a,!1,null,"7db2f0d2",null);t["default"]=_.exports},"8ddf":function(e,t){e.exports="import \"core-js/modules/es6.typed.uint8-array\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.regexp.match\";\n\n/* eslint-disable */\n\n/* Blob.js*/\n\n/*global self, unescape */\n\n/*jslint bitwise: true, regexp: true, confusion: true, es5: true, vars: true, white: true,\r\n  plusplus: true */\n\n/*! @source http://purl.eligrey.com/github/Blob.js/blob/master/Blob.js */\n;\n\n(function (view) {\n  'use strict';\n\n  view.URL = view.URL || view.webkitURL;\n\n  if (view.Blob && view.URL) {\n    try {\n      new Blob();\n      return;\n    } catch (e) {}\n  } // Internally we use a BlobBuilder implementation to base Blob off of\n  // in order to support older browsers that only have BlobBuilder\n\n\n  var BlobBuilder = view.BlobBuilder || view.WebKitBlobBuilder || view.MozBlobBuilder || function (view) {\n    var get_class = function get_class(object) {\n      return Object.prototype.toString.call(object).match(/^\\[object\\s(.*)\\]$/)[1];\n    },\n        FakeBlobBuilder = function BlobBuilder() {\n      this.data = [];\n    },\n        FakeBlob = function Blob(data, type, encoding) {\n      this.data = data;\n      this.size = data.length;\n      this.type = type;\n      this.encoding = encoding;\n    },\n        FBB_proto = FakeBlobBuilder.prototype,\n        FB_proto = FakeBlob.prototype,\n        FileReaderSync = view.FileReaderSync,\n        FileException = function FileException(type) {\n      this.code = this[this.name = type];\n    },\n        file_ex_codes = ('NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR ' + 'NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR').split(' '),\n        file_ex_code = file_ex_codes.length,\n        real_URL = view.URL || view.webkitURL || view,\n        real_create_object_URL = real_URL.createObjectURL,\n        real_revoke_object_URL = real_URL.revokeObjectURL,\n        URL = real_URL,\n        btoa = view.btoa,\n        atob = view.atob,\n        ArrayBuffer = view.ArrayBuffer,\n        Uint8Array = view.Uint8Array,\n        origin = /^[\\w-]+:\\/*\\[?[\\w\\.:-]+\\]?(?::[0-9]+)?/;\n\n    FakeBlob.fake = FB_proto.fake = true;\n\n    while (file_ex_code--) {\n      FileException.prototype[file_ex_codes[file_ex_code]] = file_ex_code + 1;\n    } // Polyfill URL\n\n\n    if (!real_URL.createObjectURL) {\n      URL = view.URL = function (uri) {\n        var uri_info = document.createElementNS('http://www.w3.org/1999/xhtml', 'a'),\n            uri_origin;\n        uri_info.href = uri;\n\n        if (!('origin' in uri_info)) {\n          if (uri_info.protocol.toLowerCase() === 'data:') {\n            uri_info.origin = null;\n          } else {\n            uri_origin = uri.match(origin);\n            uri_info.origin = uri_origin && uri_origin[1];\n          }\n        }\n\n        return uri_info;\n      };\n    }\n\n    URL.createObjectURL = function (blob) {\n      var type = blob.type,\n          data_URI_header;\n\n      if (type === null) {\n        type = 'application/octet-stream';\n      }\n\n      if (blob instanceof FakeBlob) {\n        data_URI_header = 'data:' + type;\n\n        if (blob.encoding === 'base64') {\n          return data_URI_header + ';base64,' + blob.data;\n        } else if (blob.encoding === 'URI') {\n          return data_URI_header + ',' + decodeURIComponent(blob.data);\n        }\n\n        if (btoa) {\n          return data_URI_header + ';base64,' + btoa(blob.data);\n        } else {\n          return data_URI_header + ',' + encodeURIComponent(blob.data);\n        }\n      } else if (real_create_object_URL) {\n        return real_create_object_URL.call(real_URL, blob);\n      }\n    };\n\n    URL.revokeObjectURL = function (object_URL) {\n      if (object_URL.substring(0, 5) !== 'data:' && real_revoke_object_URL) {\n        real_revoke_object_URL.call(real_URL, object_URL);\n      }\n    };\n\n    FBB_proto.append = function (data\n    /*, endings*/\n    ) {\n      var bb = this.data; // decode data to a binary string\n\n      if (Uint8Array && (data instanceof ArrayBuffer || data instanceof Uint8Array)) {\n        var str = '',\n            buf = new Uint8Array(data),\n            i = 0,\n            buf_len = buf.length;\n\n        for (; i < buf_len; i++) {\n          str += String.fromCharCode(buf[i]);\n        }\n\n        bb.push(str);\n      } else if (get_class(data) === 'Blob' || get_class(data) === 'File') {\n        if (FileReaderSync) {\n          var fr = new FileReaderSync();\n          bb.push(fr.readAsBinaryString(data));\n        } else {\n          // async FileReader won't work as BlobBuilder is sync\n          throw new FileException('NOT_READABLE_ERR');\n        }\n      } else if (data instanceof FakeBlob) {\n        if (data.encoding === 'base64' && atob) {\n          bb.push(atob(data.data));\n        } else if (data.encoding === 'URI') {\n          bb.push(decodeURIComponent(data.data));\n        } else if (data.encoding === 'raw') {\n          bb.push(data.data);\n        }\n      } else {\n        if (typeof data !== 'string') {\n          data += ''; // convert unsupported types to strings\n        } // decode UTF-16 to binary string\n\n\n        bb.push(unescape(encodeURIComponent(data)));\n      }\n    };\n\n    FBB_proto.getBlob = function (type) {\n      if (!arguments.length) {\n        type = null;\n      }\n\n      return new FakeBlob(this.data.join(''), type, 'raw');\n    };\n\n    FBB_proto.toString = function () {\n      return '[object BlobBuilder]';\n    };\n\n    FB_proto.slice = function (start, end, type) {\n      var args = arguments.length;\n\n      if (args < 3) {\n        type = null;\n      }\n\n      return new FakeBlob(this.data.slice(start, args > 1 ? end : this.data.length), type, this.encoding);\n    };\n\n    FB_proto.toString = function () {\n      return '[object Blob]';\n    };\n\n    FB_proto.close = function () {\n      this.size = 0;\n      delete this.data;\n    };\n\n    return FakeBlobBuilder;\n  }(view);\n\n  view.Blob = function (blobParts, options) {\n    var type = options ? options.type || '' : '';\n    var builder = new BlobBuilder();\n\n    if (blobParts) {\n      for (var i = 0, len = blobParts.length; i < len; i++) {\n        if (Uint8Array && blobParts[i] instanceof Uint8Array) {\n          builder.append(blobParts[i].buffer);\n        } else {\n          builder.append(blobParts[i]);\n        }\n      }\n    }\n\n    var blob = builder.getBlob(type);\n\n    if (!blob.slice && blob.webkitSlice) {\n      blob.slice = blob.webkitSlice;\n    }\n\n    return blob;\n  };\n\n  var getPrototypeOf = Object.getPrototypeOf || function (object) {\n    return object.__proto__;\n  };\n\n  view.Blob.prototype = getPrototypeOf(new view.Blob());\n})(typeof self !== 'undefined' && self || typeof window !== 'undefined' && window || this);"},c1a7:function(e,t,n){"use strict";var o=n("553a"),a=n.n(o);a.a},eb37:function(e,t,n){}}]);