(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76aeae4e"],{"133b":function(e,t,n){"use strict";var r=n("e7a1"),a=RegExp.prototype.exec,i=String.prototype.replace,o=a,c="lastIndex",s=function(){var e=/a/,t=/b*/g;return a.call(e,"a"),a.call(t,"a"),0!==e[c]||0!==t[c]}(),l=void 0!==/()??/.exec("")[1],u=s||l;u&&(o=function(e){var t,n,o,u,p=this;return l&&(n=new RegExp("^"+p.source+"$(?!\\s)",r.call(p))),s&&(t=p[c]),o=a.call(p,e),s&&o&&(p[c]=p.global?o.index+o[0].length:t),l&&o&&o.length>1&&i.call(o[0],n,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(o[u]=void 0)})),o}),e.exports=o},"13ff":function(e,t,n){"use strict";var r=n("c9a7"),a=n.n(r);a.a},"1e01":function(e,t,n){var r=n("da0b"),a=n("ae6e").set;e.exports=function(e,t,n){var i,o=t.constructor;return o!==n&&"function"==typeof o&&(i=o.prototype)!==n.prototype&&r(i)&&a&&a(e,i),e}},"1eb0":function(e,t,n){var r=n("a6ad"),a=n("3038");e.exports=function(e){return function(t,n){var i,o,c=String(a(t)),s=r(n),l=c.length;return s<0||s>=l?e?"":void 0:(i=c.charCodeAt(s),i<55296||i>56319||s+1===l||(o=c.charCodeAt(s+1))<56320||o>57343?e?c.charAt(s):i:e?c.slice(s,s+2):o-56320+(i-55296<<10)+65536)}}},2137:function(e,t,n){"use strict";var r=n("02f2"),a=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var i=n.call(e,t);if("object"!==typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return a.call(e,t)}},"3a06":function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},"6a0f":function(e,t,n){"use strict";var r=n("9e37"),a=n.n(r);a.a},"6af6":function(e,t,n){"use strict";n("b3f3");var r=n("a6d5"),a=n("b8ea"),i=n("0cc1"),o=n("3038"),c=n("1277"),s=n("133b"),l=c("species"),u=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),p=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var h=c(e),f=!i((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),m=f?!i((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[l]=function(){return n}),n[h](""),!t})):void 0;if(!f||!m||"replace"===e&&!u||"split"===e&&!p){var d=/./[h],g=n(o,h,""[e],(function(e,t,n,r,a){return t.exec===s?f&&!a?{done:!0,value:d.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),v=g[0],b=g[1];r(String.prototype,e,v),a(RegExp.prototype,h,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}}},7130:function(e,t,n){var r=n("2498"),a=n("3038"),i=n("0cc1"),o=n("3a06"),c="["+o+"]",s="​",l=RegExp("^"+c+c+"*"),u=RegExp(c+c+"*$"),p=function(e,t,n){var a={},c=i((function(){return!!o[e]()||s[e]()!=s})),l=a[e]=c?t(h):o[e];n&&(a[n]=l),r(r.P+r.F*c,"String",a)},h=p.trim=function(e,t){return e=String(a(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(u,"")),e};e.exports=p},"8f42":function(e,t,n){"use strict";var r=n("3f8b"),a=n("549d"),i=n("6077"),o=n("1e01"),c=n("2ab1"),s=n("0cc1"),l=n("cb2e").f,u=n("e493").f,p=n("d3d8").f,h=n("7130").trim,f="Number",m=r[f],d=m,g=m.prototype,v=i(n("65c3")(g))==f,b="trim"in String.prototype,y=function(e){var t=c(e,!1);if("string"==typeof t&&t.length>2){t=b?t.trim():h(t,3);var n,r,a,i=t.charCodeAt(0);if(43===i||45===i){if(n=t.charCodeAt(2),88===n||120===n)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+t}for(var o,s=t.slice(2),l=0,u=s.length;l<u;l++)if(o=s.charCodeAt(l),o<48||o>a)return NaN;return parseInt(s,r)}}return+t};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof m&&(v?s((function(){g.valueOf.call(n)})):i(n)!=f)?o(new d(y(t)),n,m):y(t)};for(var x,w=n("f9a5")?l(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),D=0;w.length>D;D++)a(d,x=w[D])&&!a(m,x)&&p(m,x,u(d,x));m.prototype=g,g.constructor=m,n("a6d5")(r,f,m)}},"9e37":function(e,t,n){},ae6e:function(e,t,n){var r=n("da0b"),a=n("8cac"),i=function(e,t){if(a(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n("e85e")(Function.call,n("e493").f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(a){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},b3f3:function(e,t,n){"use strict";var r=n("133b");n("2498")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},be10:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"bg"},[e._m(0),n("div",{staticClass:"phoneSearch"},[n("el-form",{ref:"phoneForm",staticClass:"phoneSearch",attrs:{inline:!0,model:e.phoneForm}},[n("el-form-item",{attrs:{label:"机主姓名"}},[n("el-input",{attrs:{placeholder:"姓名"},model:{value:e.phoneForm.name,callback:function(t){e.$set(e.phoneForm,"name",t)},expression:"phoneForm.name"}})],1),n("el-form-item",{attrs:{label:"手机号码"}},[n("el-input",{attrs:{placeholder:"手机号码"},model:{value:e.phoneForm.phone,callback:function(t){e.$set(e.phoneForm,"phone",t)},expression:"phoneForm.phone"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.isQuery}},[e._v("查询")])],1),n("el-form-item",[n("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.resetForm("phoneForm")}}},[e._v("重置\n          ")])],1)],1)],1),n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.flag,expression:"flag"}],staticClass:"searchList",attrs:{"element-loading-text":"拼命加载中","element-loading-background":"rgba(0, 0, 0, 0)"}},[e._v("\n      >\n      "),n("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.phoneDataPage,height:"321","highlight-current-row":"",border:""},on:{"row-click":e.rowClick}},[n("el-table-column",{attrs:{type:"index",width:"50",align:"center",label:"序号"}}),n("el-table-column",{attrs:{prop:"name",align:"center",label:"机主姓名",width:"100"}}),n("el-table-column",{attrs:{prop:"phone",align:"center",label:"电话号码",width:"150"}}),n("el-table-column",{attrs:{prop:"uploadTime",align:"center",width:"100",label:"上传时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(e._f("formatDate")(t.row.uploadTime)))])]}}])}),n("el-table-column",{attrs:{prop:"caseName",align:"center",width:"100",label:"案件名称"}}),n("el-table-column",{attrs:{prop:"depict",align:"center",label:"描述"}}),n("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return e.edit(t.$index,t.row)}}},[e._v("编辑\n            ")]),n("el-button",{attrs:{size:"mini"},on:{click:function(n){return e.addMore(t.$index,t.row)}}},[e._v("追加\n            ")]),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.Delete(t.$index,t.row)}}},[e._v("删除\n            ")])]}}])})],1),n("el-pagination",{attrs:{"current-page":e.page.currentPage,"page-sizes":[5],"page-size":e.page.size,total:e.page.total,layout:"total, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._m(1),n("div",{staticClass:"converseSearch"},[n("el-form",{ref:"converseForm",staticClass:"converseSearch",attrs:{inline:!0,model:e.converseForm}},[n("el-form-item",[n("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.converseForm.time,callback:function(t){e.$set(e.converseForm,"time",t)},expression:"converseForm.time"}})],1),n("el-form-item",{attrs:{label:"手机号码"}},[n("el-input",{attrs:{placeholder:"手机号码"},model:{value:e.converseForm.phone,callback:function(t){e.$set(e.converseForm,"phone",t)},expression:"converseForm.phone"}})],1),n("el-form-item",{attrs:{label:"通话时长"}},[n("el-input",{attrs:{placeholder:"通话时长"},model:{value:e.converseForm.callTime,callback:function(t){e.$set(e.converseForm,"callTime",t)},expression:"converseForm.callTime"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.callQuery}},[e._v("查询")])],1)],1)],1),n("div",{staticClass:"searchList"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.converseData2,height:"250",border:""}},[n("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"50"}}),n("el-table-column",{attrs:{prop:"partyPhone",label:"对方号码",align:"center",width:"120"}}),n("el-table-column",{attrs:{prop:"mode",label:"主被叫类型",align:"center",width:"100"}}),n("el-table-column",{attrs:{prop:"timeChange",align:"center",label:"通话时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(e._f("formatDate")(t.row.beginTime)))])]}}])}),n("el-table-column",{attrs:{prop:"datetime",align:"center",label:"通话时长"}}),n("el-table-column",{attrs:{prop:"location",align:"center",label:"通信地点"}}),n("el-table-column",{attrs:{prop:"baseLocation",align:"center",label:"基站地址"}}),n("el-table-column",{attrs:{prop:"stationCode",align:"center",label:"基站号",width:"80"}}),n("el-table-column",{attrs:{prop:"housingCode",align:"center",label:"小区号",width:"80"}}),n("el-table-column",{attrs:{prop:"imei",align:"center",label:"IMEI"}}),n("el-table-column",{attrs:{prop:"imsi",align:"center",label:"IMSI"}})],1)],1)])])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title"},[n("h3",[e._v("话单查询")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title1"},[n("h3",[e._v("通话查询")])])}],i=(n("8f42"),n("40c5"),n("23cc"),n("c041"),n("4634"),n("7cfd"),n("fb92")),o={filters:{formatDate:function(e){var t=new Date(e);return Object(i["a"])(t,"yyyy-MM-dd hh:mm:ss")}},data:function(){return{flag:!0,pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-6048e5),e.$emit("pick",[n,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-2592e6),e.$emit("pick",[n,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-7776e6),e.$emit("pick",[n,t])}}]},page:{currentPage:1,size:5,total:10},phoneForm:{phone:"",name:""},converseForm:{id:0,phone:"",callTime:"",time:null},currentRow:null,phoneData:[{name:"小谢",phone:"13111111111",uploadTime:"2019-7-21",caseName:"赚钱大事件",depict:"小谢发现海贼王ONE PRICE"}],phoneData2:[{name:"小谢",phone:"13111111111",uploadTime:"2019-7-21",caseName:"赚钱大事件",depict:"小谢发现海贼王ONE PRICE"}],converseData:[],converseData2:[]}},computed:{phoneDataPage:function(){var e=this.page.size*(this.page.currentPage-1),t=e+this.page.size,n=this.phoneData2.slice(e,t);return this.converseForm.id=n[0].recordId,n}},mounted:function(){this.onSubmit()},methods:{rowClick:function(e){this.$refs.singleTable.setCurrentRow(e),this.converseForm.id=e.recordId,this.onSubmit1()},onSubmit:function(){var e=this,t=this,n={name:this.phoneForm.name,phone:this.phoneForm.phone};this.$api.ticketQuery(n).then((function(n){var r=n.data;if(r.success){var a=[],i={};r.result.tickBackList.forEach((function(e){i={name:e.ticketRelevanceDTO.phoneOwner,phone:e.ticketRelevanceDTO.phoneNumber,uploadTime:e.ticketDTO.createTime,caseName:e.ticketDTO.caseName,depict:e.ticketDTO.description,recordId:e.ticketRelevanceDTO.recordId,id:e.ticketRelevanceDTO.id},a.push(i)})),t.phoneData=a,t.isQuery(),t.onSubmit1(),t.$message({message:"获取话单成功!",type:"success"})}else e.$message({message:"获取话单失败!",type:"error"})}))},isQuery:function(){var e=this.phoneForm.name,t=this.phoneForm.phone,n=[];this.page.currentPage=1,""===e&&""===t?n=this.phoneData:""!==e&&""!==t?this.phoneData.forEach((function(r){r.name.indexOf(e)>=0&&r.phone==t&&n.push(r)})):(""!==e&&this.phoneData.forEach((function(t){t.name.indexOf(e)>=0&&n.push(t)})),""!==t&&this.phoneData.forEach((function(e){e.phone==t&&n.push(e)}))),this.phoneData2=n,this.page.total=n.length,this.$refs.singleTable.setCurrentRow(this.phoneDataPage[0]),this.converseForm.id=this.phoneDataPage[0].recordId,this.onSubmit1(),this.flag=!1},onSubmit1:function(){var e=this,t={id:this.converseForm.id};this.$api.ticketCallQuery(t).then((function(t){var n=t.data;e.converseData=n.result.ticketDetailsDTOList,e.callQuery()}))},callQuery:function(){var e=this.converseData;this.converseData2=e;var t=this.converseForm,n={};null!==t.time&&this.timeSizer(),""!==t.phone&&(n.partyPhone=t.phone,this.converseData2=this.$api.callFilter(n,this.converseData2)),""!==t.callTime&&this.callTimeSizer()},callTimeSizer:function(){var e=this,t=this.converseData2,n=this.converseForm.callTime,r=[];t.forEach((function(t){e.timeToSec(n)<=e.timeToSec(t.datetime)&&r.push(t)})),this.converseData2=r},timeToSec:function(e){var t,n,r;e.replace(/分钟/g,"分"),e.replace(/小时/g,"时"),t=e.includes("时")?e.indexOf("时"):0,n=e.includes("分")?e.indexOf("分"):0,r=e.includes("秒")?e.indexOf("秒"):0;var a=0,i=0,o=0;0==t&&0==n&&0==r&&(o=e),0!=t&&(a=e.substring(0,t)),0!=n&&(i=e.substring(0==t?0:t+1,n)),0!=r&&(o=e.substring(0==n?0:n+1,r));var c=Number(3600*a)+Number(60*i)+Number(o);return 1e3*c},timeSizer:function(){var e=this,t=this.converseData2,n=this.converseForm.time,r=[];t.forEach((function(t){e.compareTime(t.beginTime,n[0],n[1])&&r.push(t)})),this.converseData2=r},compareTime:function(e,t,n){function r(e){return new Date(e.replace(/-/g,"/")).getTime()}e=Object(i["a"])(new Date(e),"yyyy-MM-dd hh:mm:ss"),t=Object(i["a"])(new Date(t),"yyyy-MM-dd hh:mm:ss"),n=Object(i["a"])(new Date(n),"yyyy-MM-dd hh:mm:ss");var a=r(t),o=r(n),c=r(e);return!(c<a||c>o)},timeChange:function(e){var t=e.map((function(e){var t=new Date(e),n=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds();return n}));return t},resetForm:function(e){this.phoneForm={phone:"",name:""},this.isQuery()},Delete:function(e,t){var n=this,r={phoneId:t.id};this.$api.ticketDelete(r).then((function(e){e.data;n.$message({message:"话单删除成功!",type:"success"}),n.onSubmit()}))},edit:function(e,t){this.$router.push({name:"newPhone",query:{phoneDataList:JSON.stringify(t),oper:"编辑话单"}})},addMore:function(e,t){this.$router.push({name:"newPhone",query:{phoneDataList:JSON.stringify(t),oper:"追加话单"}})},handleSizeChange:function(e){},handleCurrentChange:function(e){this.page.currentPage=e}}},c=o,s=(n("13ff"),n("6a0f"),n("6691")),l=Object(s["a"])(c,r,a,!1,null,"690e22c4",null);t["default"]=l.exports},c041:function(e,t,n){"use strict";var r=n("8cac"),a=n("a9cf"),i=n("8941"),o=n("a6ad"),c=n("ff04"),s=n("2137"),l=Math.max,u=Math.min,p=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g,m=function(e){return void 0===e?e:String(e)};n("6af6")("replace",2,(function(e,t,n,d){return[function(r,a){var i=e(this),o=void 0==r?void 0:r[t];return void 0!==o?o.call(r,i,a):n.call(String(i),r,a)},function(e,t){var a=d(n,e,this,t);if(a.done)return a.value;var p=r(e),h=String(this),f="function"===typeof t;f||(t=String(t));var v=p.global;if(v){var b=p.unicode;p.lastIndex=0}var y=[];while(1){var x=s(p,h);if(null===x)break;if(y.push(x),!v)break;var w=String(x[0]);""===w&&(p.lastIndex=c(h,i(p.lastIndex),b))}for(var D="",k=0,S=0;S<y.length;S++){x=y[S];for(var T=String(x[0]),E=l(u(o(x.index),h.length),0),F=[],_=1;_<x.length;_++)F.push(m(x[_]));var $=x.groups;if(f){var C=[T].concat(F,E,h);void 0!==$&&C.push($);var O=String(t.apply(void 0,C))}else O=g(T,h,E,F,$,t);E>=k&&(D+=h.slice(k,E)+O,k=E+T.length)}return D+h.slice(k)}];function g(e,t,r,i,o,c){var s=r+e.length,l=i.length,u=f;return void 0!==o&&(o=a(o),u=h),n.call(c,u,(function(n,a){var c;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(s);case"<":c=o[a.slice(1,-1)];break;default:var u=+a;if(0===u)return n;if(u>l){var h=p(u/10);return 0===h?n:h<=l?void 0===i[h-1]?a.charAt(1):i[h-1]+a.charAt(1):n}c=i[u-1]}return void 0===c?"":c}))}}))},c9a7:function(e,t,n){},cb2e:function(e,t,n){var r=n("7afe"),a=n("d93f").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,a)}},d479:function(e,t,n){var r=n("3f8b"),a=n("1e01"),i=n("d3d8").f,o=n("cb2e").f,c=n("5f9c"),s=n("e7a1"),l=r.RegExp,u=l,p=l.prototype,h=/a/g,f=/a/g,m=new l(h)!==h;if(n("f9a5")&&(!m||n("0cc1")((function(){return f[n("1277")("match")]=!1,l(h)!=h||l(f)==f||"/a/i"!=l(h,"i")})))){l=function(e,t){var n=this instanceof l,r=c(e),i=void 0===t;return!n&&r&&e.constructor===l&&i?e:a(m?new u(r&&!i?e.source:e,t):u((r=e instanceof l)?e.source:e,r&&i?s.call(e):t),n?this:p,l)};for(var d=function(e){e in l||i(l,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})},g=o(u),v=0;g.length>v;)d(g[v++]);p.constructor=l,l.prototype=p,n("a6d5")(r,"RegExp",l)}n("e465")("RegExp")},e493:function(e,t,n){var r=n("c864"),a=n("0614"),i=n("6117"),o=n("2ab1"),c=n("549d"),s=n("25ae"),l=Object.getOwnPropertyDescriptor;t.f=n("f9a5")?l:function(e,t){if(e=i(e),t=o(t,!0),s)try{return l(e,t)}catch(n){}if(c(e,t))return a(!r.f.call(e,t),e[t])}},fb92:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("d479"),n("c041");function r(e,t){/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(var r in n)if(new RegExp("(".concat(r,")")).test(t)){var i=n[r]+"";t=t.replace(RegExp.$1,1===RegExp.$1.length?i:a(i))}return t}function a(e){return("00"+e).substr(e.length)}},ff04:function(e,t,n){"use strict";var r=n("1eb0")(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}}}]);