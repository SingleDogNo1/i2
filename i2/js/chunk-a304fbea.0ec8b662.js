(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a304fbea"],{"7e30":function(t,e,a){"use strict";var s=a("c951"),i=a.n(s);i.a},a2ff:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"taskManageCoat"},[a("div",{staticClass:"coat1"},[a("div",{staticClass:"coat2"},[a("div",{staticClass:"taskManage"},[a("div",{staticClass:"criteria"},[a("div",{staticClass:"form"},[a("el-form",{staticClass:"demo-ruleForm",attrs:{model:t.criteria,"status-icon":""}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"登录名（输入)"},model:{value:t.criteria.taskName,callback:function(e){t.$set(t.criteria,"taskName",e)},expression:"criteria.taskName"}})],1),a("el-form-item",[a("el-select",{attrs:{"popper-class":"fromselect",placeholder:"请选择状态"},model:{value:t.criteria.status,callback:function(e){t.$set(t.criteria,"status",e)},expression:"criteria.status"}},t._l(t.statusList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-form-item",[a("el-button",{staticClass:"seekBut",attrs:{type:"primary"},on:{click:function(e){return t.isSeek()}}},[t._v("搜索")])],1)],1)],1),a("div",{staticClass:"button"},[a("el-button",{staticClass:"addBut",attrs:{type:"primary"},on:{click:function(e){return t.addTask()}}},[t._v("添加分析任务")])],1)]),t._m(0),a("div",{staticClass:"info"},[a("div",{staticClass:"taskTable"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.taskData}},[a("el-table-column",{attrs:{prop:"name",label:"任务名称"}}),a("el-table-column",{attrs:{prop:"type",label:"任务类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(0==e.row.type?"查人":"查案"))])]}}])}),a("el-table-column",{attrs:{prop:"status",label:"执行状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(0==e.row.status?"未开始":1==e.row.status?"执行中":"完成"))])]}}])}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),a("el-table-column",{attrs:{prop:"endTime",label:"完成时间"}}),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.status||1==e.row.status?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleClick(e.row)}}},[t._v("分析")]):t._e(),0==e.row.status||1==e.row.status?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.editorTask(e.row)}}},[t._v("编辑")]):a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.show(e.row)}}},[t._v("查看")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.deleteTask(e.row)}}},[t._v("删除")])]}}])})],1)],1),a("div",{staticClass:"position"},[a("el-pagination",{attrs:{"current-page":t.pagination.page,"page-size":t.pagination.size,"page-sizes":[10,15,20],layout:"total,sizes,  prev, pager,next,jumper",total:t.pagination.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){return t.$set(t.pagination,"page",e)},"update:current-page":function(e){return t.$set(t.pagination,"page",e)}}})],1)])])])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[a("span",{staticClass:"el-icon-s-operation",staticStyle:{"font-size":"20px"}}),t._v(" \n          "),a("span",[t._v("串并离线任务列表")])])}],n={name:"taskManage",data:function(){return{pagination:{page:1,size:10,total:0},statusList:[{value:"",label:"全部"},{value:"0",label:"未开始"},{value:"1",label:"执行中"},{value:"2",label:"完成"}],criteria:{taskName:"",status:""},taskData:[{name:"123",taskType:"查人",status:"未开始",endDate:"2019-09-05 20:00:39",createDate:"2019-07-08 15:57:40"},{name:"123",taskType:"查人",status:"进行中",endDate:"2019-09-05 20:00:39",createDate:"2019-07-08 15:57:40"},{name:"123",taskType:"查人",status:"已完成",endDate:"2019-09-05 20:00:39",createDate:"2019-07-08 15:57:40"}],userId:"a3ae1f4d5d85499d8e6fe71f6dd6177c"}},mounted:function(){this.isSeek()},methods:{isSeek:function(){var t=this,e=this,a={userId:this.userId,page:this.pagination.page,pageSize:this.pagination.size,name:this.criteria.taskName,status:this.criteria.status};this.$api.queryTaskManagementList(a).then((function(a){var s=a.data;"成功"===s.msg?(e.taskData=s.data.list,e.pagination.total=s.data.total,e.$message({message:"获取列表成功!",type:"success"})):t.$message({message:"获取列表失败!",type:"error"})}))},addTask:function(){this.$router.push({name:"unioncase"})},handleClick:function(t){var e=this,a=this,s={id:t.id,userId:this.userId};this.$api.analyze(s).then((function(t){var s=t.data;"成功"===s.msg?(a.isSeek(),a.$message({message:"分析成功!",type:"success"})):e.$message({message:"分析失败!",type:"error"})}))},show:function(t){this.$router.push({name:"unioncase",params:{id:t.id,flag:!0}})},editorTask:function(t){var e=this,a=this,s={id:t.id};this.$api.queryCompile(s).then((function(t){var s=t.data;"成功"===s.msg?a.$message({message:"获取编辑信息成功!",type:"success"}):e.$message({message:"获取编辑信息失败!",type:"error"})}))},deleteTask:function(t){var e=this,a=this,s={id:t.id};this.$api.deleteTask(s).then((function(t){var s=t.data;"成功"===s.msg?(a.isSeek(),a.$message({message:"删除成功!",type:"success"})):e.$message({message:"删除失败!",type:"error"})}))},handleSizeChange:function(t){this.pagination.size=t},handleCurrentChange:function(t){this.pagination.page=t}}},r=n,l=(a("fd8f"),a("7e30"),a("6691")),o=Object(l["a"])(r,s,i,!1,null,"d9aa944a",null);e["default"]=o.exports},c951:function(t,e,a){},f1ac:function(t,e,a){},fd8f:function(t,e,a){"use strict";var s=a("f1ac"),i=a.n(s);i.a}}]);